/*! revibar - v0.0.1 - 2016-04-25
* http://www.beast.io
* Copyright (c) 2016 BEAST */
var tripAdvisor={config:{key:"68665bd4e562473884942d5db3a67a1e",client:"237567",url:"http://api.tripadvisor.com/api/partner/2.0/location/"},init:function(){var self=this,obj={key:self.config.key};self.getData(obj)},getData:function(obj){var self=this,url=self.config.url+self.config.client+"?key="+self.config.key,request=new XMLHttpRequest;request.onload=function(){if(request.status>=200&&request.status<400){var data=JSON.parse(request.responseText);switch(data.code){case 160:console.log(data.responseJson.error.message);break;case 150:console.log(data.responseJson.error.message);break;case 101:console.log(data.responseJson.error.message);break;case 120:console.log(data.responseJson.error.message);break;default:self.renderData(data)}}},request.onerror=function(){console.log("Sadly, there was an error while connecting to TripAdvisor.. Check the URL")},request.open("GET",url,!0),request.send()},renderData:function(obj){console.log(obj);var el=document.getElementById("revibar"),node=document.createElement("P");node.innerHTML="We have data for "+obj.name+". Beastly!",el.appendChild(node);var node2=document.createElement("P");node2.innerHTML="A whopping total of "+obj.num_reviews+" reviews is available. Please check the console log for more data.",el.appendChild(node2)}};tripAdvisor.init();